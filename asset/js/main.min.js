!function(e){e(document).ready(function(){function t(){var t=e(window).scrollTop(),o=e(window).height(),n=s.offset().top;t>=n-o&&!l&&(e.getScript("../assets.juicer.io/embed.js"),e("head").append('<link rel="stylesheet" type="text/css" href="../assets.juicer.io/embed.css">'),l=!0)}function o(t,o){if(t.length>0){var n=e(window).scrollTop(),a=e(window).height(),i=t.offset().top;n>=i-a&&1!=r&&(e("head").append(o),r=!0)}}function n(t){try{this._button=t.button,this._playing=t.playing||!1,this._activeClass=t.activeClass,this._styleClass=t.styleClass,this._mediaType=t.mediaType||"video",this._self=this,this._hideOnPlay=t.hideOnPlay||!1;var o=document.querySelector(t.mediaTarget),n=document.querySelector(t.button),a=n.querySelector(".playpause__play-button"),i=n.querySelector(".playpause__pause-button"),s=n.querySelector(".playpause__play-pause-text"),l=document.querySelector(t.videoParent||!1);if(null===n||null===a||null===i||null===s||null===l||null===o)throw new Error('Something went wrong with the video masthead - check all elements have been provided in the "playBtn" function call')}catch(r){console.log(r)}this.getState=function(){return this._playing},this._styleClass&&this._styleClass.forEach(function(e){n.classList.add(e)}),this.play=function(){this._playing=!1,e(a).addClass("hideMastNav"),e(i).removeClass("hideMastNav"),e(s).text("Pause"),e(n).attr("aria-label","video playing"),"video"===this._mediaType?o&&o.play():"carousel"===this._mediaType&&e(o).cycle("resume")},this.pause=function(){this._playing=!0,e(a).removeClass("hideMastNav"),e(i).addClass("hideMastNav"),e(s).text("Play"),e(n).attr("aria-label","video paused"),"video"===this._mediaType?o&&o.pause():"carousel"===this._mediaType&&e(o).cycle("pause")},this.setIcon=function(){o.paused?(o.pause(),this._playing=!1,e(a).addClass("hideMastNav"),e(i).removeClass("hideMastNav"),e(s).text("Pause"),e(n).attr("aria-label","video playing")):(o.play(),this._playing=!0,e(a).removeClass("hideMastNav"),e(i).addClass("hideMastNav"),e(s).text("Play"),e(n).attr("aria-label","video paused"))},this.toggleState=function(){console.log("playing state?",this._playing),this._playing?this.play():this.pause()},this.init=function(){this.toggleState()},this.init(),e(n).on("click keypress",function(e){e.preventDefault(),this.toggleState()}.bind(this._self)),e(o).on("click keypress",function(e){this.setIcon()}.bind(this._self)),e(o).on("ended",function(){this.pause()}.bind(this._self)),this._hideOnPlay&&(e(n.parentNode).addClass("hideOnPlay"),e(o).on("mouseover",function(){this._hideOnPlay&&e(n.parentNode).removeClass("hideOnPlay")}.bind(this._self)),e(o).on("mouseleave",function(){this._hideOnPlay&&this._playing===!1&&e(n.parentNode).addClass("hideOnPlay")}.bind(this._self)),e(l).on("mouseover",function(){e(n.parentNode).removeClass("hideOnPlay")}),e(l).on("mouseleave",function(){e(n.parentNode).addClass("hideOnPlay")}))}function a(t){var o=document.querySelector(t.button||null);null!==o?e(o).magnificPopup({type:"iframe"}):console.log(new Error('Something went wrong with the video masthead - check all elements have been provided in the "videoModal" function call'))}function i(){var t=e(".l-row-block_5d70da9b31fdd .cp-half-and-half__inner").offset().left,o=e(".l-row-block_5d70da9b31fdd .cp-half-and-half__inner").width(),n=e(".cp-masthead__inner--video-container--button-wraper");e(window).width()>=1024?n.css({left:t,"max-width":o,margin:"0"}):n.css({left:"auto",right:"20px","max-width":"none","margin-top":"20px"})}if(e(".a--fake-click").keypress(function(t){13==t.which&&(console.log("faked a click"),e(this).trigger("click"))}),e(".a--get-focus").on("focus",function(){e(this).addClass("a--has-focus")}),e(window).load(function(){var t=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onLeave",duration:"100%"}}),o=(new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter",duration:"100%"}}),new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter",duration:"60%"}}));new ScrollMagic.Controller;e(".cp-masthead").hasClass("transitions--disabled")||(new ScrollMagic.Scene({triggerElement:".cp-masthead"}).setTween(".cp-masthead",{y:"40%",ease:Linear.easeOut}).addTo(t),new ScrollMagic.Scene({triggerElement:".cp-masthead"}).setTween(".cp-masthead__inner--video-container--button-wraper",{y:"-500%",ease:Linear.easeOut}).addTo(t)),e("[class*=h-translate__y]").each(function(){new ScrollMagic.Scene({triggerElement:this}).setTween(this,{y:"0",ease:Linear.easeInOut}).addTo(o)}),e("[class*=h-translate__x]").each(function(){new ScrollMagic.Scene({triggerElement:this}).setTween(this,{x:"0",ease:Linear.easeInOut}).addTo(o)})}),e(function(){if(e(window).innerWidth()>1024){var t=e(window),o=.7,n=360;t.on("mousewheel DOMMouseScroll",function(a){if(!e(".mfp-ready").length){a.preventDefault();var i=a.originalEvent.wheelDelta/120||-a.originalEvent.detail/3,s=t.scrollTop(),l=s-parseInt(i*n);TweenMax.to(t,o,{scrollTo:{y:l,autoKill:!0},ease:Power1.linear,autoKill:!0,overwrite:5})}})}}),e(".cp-event-tile__wrapper").each(function(){function t(t,o){e(n).parents(".cp-multi-column-carousel").find(".cp-event-tile__controls--numbers--current").text("0"+t),e(n).parents(".cp-multi-column-carousel").find(".cp-event-tile__controls--numbers--total").text("0"+o)}function o(){var o=e(n).find(".slick-current").attr("data-slide-id"),a=e(n).data("total");t(o,a)}var n=this,a=e(n).parents(".cp-multi-column-carousel").attr("data-column-count");e(n).slick({nextArrow:e(n).parents(".cp-multi-column-carousel").find(".cp-event-tile__controls--arrow-right"),prevArrow:e(n).parents(".cp-multi-column-carousel").find(".cp-event-tile__controls--arrow-left"),dots:!1,infinite:!0,responsive:[{breakpoint:99999,settings:{slidesToShow:a,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1}}]}),e(n).find(".slick-slide:not(.slick-cloned)").each(function(t,o){e(o).attr("data-slide-id",t+1)}),o(),e(n).on("afterChange",function(){o()})}),e(".monthly-offers-title").on("click",function(){var t=e(this).attr("id");t=t.replace("title","carousel"),e(".month").hasClass("active")&&e(".month").removeClass("active"),e(this).parents(".month").addClass("active"),e(".monthly-offers-carousel").each(function(){if(e(this).attr("id")===t){e(this).show();var o=e(this).find(".cp-event-tile__wrapper"),n=e(o).parents(".cp-multi-column-carousel").attr("data-column-count");e(o).slick("destroy"),e(o).slick({nextArrow:e(o).parents(".cp-multi-column-carousel").find(".cp-event-tile__controls--arrow-right"),prevArrow:e(o).parents(".cp-multi-column-carousel").find(".cp-event-tile__controls--arrow-left"),dots:!1,infinite:!0,responsive:[{breakpoint:99999,settings:{slidesToShow:n,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1}}]})}else e(this).hide()})}),e(function(){e(".cp-event-tile__modal").magnificPopup({type:"inline",preloader:!1,focus:"#username",mainClass:"cp-event-tile__modal-container",modal:!0}),e(document).on("click",".close",function(t){t.preventDefault(),e.magnificPopup.close()})}),jQuery(window).load(function(){e(function(){e(".monthly-offers-carousel").each(function(){"month-0-carousel"!==e(this).attr("id")?e(this).hide():("#month-1-title".length&&e("#month-0-title").parents(".month").addClass("active"),e(this).show())});var t={};if(window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,o,n){t[o]=n}),t.event){var o=t.event.toLowerCase();e("."+o).first()[0].click()}})}),e(".cp-gallery__wrapper").slick({nextArrow:".cp-gallery__controls--arrow-right",prevArrow:".cp-gallery__controls--arrow-left",dots:!0,appendDots:".cp-gallery__controls",infinite:!0,lazyLoad:"ondemand",responsive:[{breakpoint:99999,settings:{slidesToShow:4,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:640,settings:{slidesToShow:1,slidesToScroll:1}}]}),e(window).on("load",function(){e(".slick-track").each(function(){console.log("yup"),e(this).magnificPopup({type:"image",delegate:"> a",mainClass:"gallery-popup",fixedContentPos:!0,autoFocusLast:!0,closeBtnInside:!1,closeOnBgClick:!1,verticalFit:!0,closeMarkup:'<button title="%title%" aria-label="Close this modal" type="button" class="mfp-close"><span class="icon-cross"></span></button>',gallery:{enabled:!0,navigateByImgClick:!1,preload:[0,2],arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"><span class="icon-arrow-%dir%"></span></button>'},image:{markup:'<div class="mfp-figure"><div class="mfp-img"></div><div class="mfp-bottom-bar"><div class="mfp-counter"></div><div class="mfp-title"></div></div></div>'},callbacks:{buildControls:function(){this.contentContainer.append(this.arrowLeft.add(this.arrowRight))}}})})}),e(".cp-juicer").length>0){e(window).scroll(t);var s=e(".cp-juicer"),l=!1;t()}var r=!1,c='<script type="text/javascript" src="https://consent.truste.com/notice?domain=truste.com&amp;c=teconsent"></script>',d=e("#teconsent");e(window).scroll(function(){o(d,c)}),e("body").slothLoader({offset:2*e(window).height(),elem:".lazy",dataSrc:"src"}),e(".cp-masthead__slick").slick({arrows:!0,nextArrow:".cp-masthead__slick-controls--arrow-right",prevArrow:".cp-masthead__slick-controls--arrow-left",dots:!0,appendDots:".cp-masthead__slick-controls--dots",infinite:!0}),e(".menu-close").on("click",function(){e(".priority-nav__dropdown").removeClass("show"),e(".priority-nav-has-dropdown").removeClass("is-open"),e(".priority-nav__dropdown-toggle").removeClass("is-open")}),e(".menu-item-has-children--toggle").on("click",function(){parent=e(this).parent("li"),e(parent).toggleClass("active"),e(parent).hasClass("active")?(e(this).attr("aria-label","Click to close sub navigation"),setTimeout(function(){e(parent).find("ul").find("li").first().find("a").focus()},200)):e(this).attr("aria-label","Click to open sub navigation")}),e(".menu-close a").on("keydown",function(t){9===t.which&&!t.shiftKey&&e(".cp-header__nav").hasClass("cp-header__nav--open")&&(t.preventDefault(),e("#menu-main-navigation li a").first().focus())});var p;e(window).load(function(){p=priorityNav.init({mainNavWrapper:".cp-header__nav--primary",mainNav:".cp-header__nav--primary ul",navDropdownClassName:"cp-header__nav",breakPoint:560})}),e(".js-alertClose").click(function(){e(".cp-retailRail").hide()}),jQuery.extend(jQuery.easing,{easeInOutQuad:function(e,t,o,n,a){return(t/=a/2)<1?n/2*t*t+o:-n/2*(--t*(t-2)-1)+o}}),scrollLinks=function(){var t={},o=e(".cp-header").outerHeight(!0),n=e('a[href*="#"]');return t.goToOnLoad=function(){window.location.hash&&(window.scrollTo(0,0),setTimeout(function(){e("html, body").animate({scrollTop:e(window.location.hash).offset().top-o,easing:"easeInOutQuad"},1e3)},10))},t.checkAndGo=function(){console.log("firing check and go links"),n.on("click",function(t){var n=e(this).attr("href"),a=(window.location.href,window.location.origin,window.location.pathname,n.split("#")[0],n.split("#")[1]);if(e("#"+a).length||console.log("HASH is not on this page",a),e("#"+a).length){if(t.preventDefault(),console.log("HASH is on this page",a),e("#"+a).children().data("offset"))var i=e("#"+a).children().data("offset");else var i=0;e("html, body").animate({scrollTop:e("#"+a).offset().top-o-i,easing:"easeInOutQuad"},1e3),e(".cp-header__nav").hasClass("is-open")&&(e(".cp-header__nav").removeClass("is-open"),e(".nav__dropdown-toggle").removeClass("show"),e(".cp-header__nav").removeClass("show"))}})}(),t}(),window.onload=function(){scrollLinks.goToOnLoad()},e(window).scroll(function(){var t=e("#about").offset().top;e(window).scrollTop()>t-90?e(".cp-header").addClass("l-sticky"):e(".cp-header").removeClass("l-sticky")}),e(".cp-two-column__wrapper").each(function(){function t(t,o){o>1?e(n).parents(".cp-multi-column-carousel").find(".cp-two-column__controls--numbers").show():e(n).parents(".cp-multi-column-carousel").find(".cp-two-column__controls--numbers").hide(),e(n).parents(".cp-multi-column-carousel").find(".cp-two-column__controls--numbers--current").text("0"+t),e(n).parents(".cp-multi-column-carousel").find(".cp-two-column__controls--numbers--total").text("0"+o)}function o(){var o=e(n).find(".slick-current").attr("data-slide-id"),a=e(n).data("total");t(o,a)}var n=this,a=e(n).parents(".cp-multi-column-carousel").attr("data-column-count");e(n).slick({nextArrow:e(n).parents(".cp-multi-column-carousel").find(".cp-two-column__controls--arrow-right"),prevArrow:e(n).parents(".cp-multi-column-carousel").find(".cp-two-column__controls--arrow-left"),dots:!1,infinite:!0,responsive:[{breakpoint:99999,settings:{slidesToShow:a,slidesToScroll:1}},{breakpoint:1024,settings:{slidesToShow:1,slidesToScroll:1}}]}),e(n).find(".slick-slide:not(.slick-cloned)").each(function(t,o){e(o).attr("data-slide-id",t+1)}),o(),e(n).on("afterChange",function(){o()})});var u=function(){var t={};window.location.search.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,o,n){t[o]=n}),t["offer-id"]&&(offerId=t["offer-id"].toLowerCase(),e("body.page-template-page-special-offers .cp-three-column__tile").each(function(){1==e(this).is("#"+offerId)&&(offerNumber=e(this).data("offer-number"),console.log("active offer is "+offerNumber),e('.cp-three-column__tile .cp-button__learn[data-offer-number="'+offerNumber+'"] a').trigger("click"))}))};u();try{var h=e(".cp-masthead__inner--video-container").attr("data-masthead-video");new n({videoParent:".cp-masthead__inner--video-container",button:"#cp-masthead__inner--video-play-button",playing:h,styleClass:["rounded-gray"],mediaType:"video",mediaTarget:".cp-masthead__inner--video",hideOnPlay:!1}),new a({button:".masthead-teaser-button"});i(),e(window).resize(function(){i()})}catch(f){var m=new Error('Something went wrong with the video masthead - check all elements have been provided in the "playBtn" or "videoModal" function call');console.log(m)}})}(window.jQuery);